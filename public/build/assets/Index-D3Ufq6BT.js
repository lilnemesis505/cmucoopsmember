import{u as g,m as x,k as _,a as f,b as e,d as l,h,c as d,o as i,g as r,F as v,p as y,e as w,f as c,v as p}from"./app-ePVErmDC.js";import{A as k}from"./AdminLayout-CyNW787d.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"flex justify-between items-center mb-6"},C=["disabled"],U={key:0},B={key:1},F={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},N={class:"mb-4 relative h-40 bg-slate-100 rounded-lg overflow-hidden group"},j=["src"],A={class:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity"},L={class:"cursor-pointer bg-white text-slate-800 px-3 py-1 rounded text-sm font-bold shadow"},T=["onChange"],D={class:"space-y-3"},E=["onUpdate:modelValue"],I=["onUpdate:modelValue"],M={key:0,class:"mt-2 text-xs text-green-600 font-bold"},K={__name:"Index",props:{promotions:Array},setup(u){const s=g({promotions:u.promotions.reduce((n,t)=>(n[t.id]={main_title:t.main_title,subtitle:t.subtitle,image:null},n),{})}),m=(n,t)=>{s.promotions[n].image=t.target.files[0]},b=()=>{s.post(route("admin.promotions.update_all"))};return(n,t)=>(i(),x(k,null,{default:_(()=>[f(l(h),{title:"จัดการโปรโมชั่น"}),e("div",V,[t[2]||(t[2]=e("h2",{class:"text-2xl font-bold text-slate-800"},"จัดการโปรโมชั่นหน้าแรก",-1)),e("button",{onClick:b,disabled:l(s).processing,class:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 font-bold shadow-md"},[l(s).processing?(i(),d("span",U,[...t[0]||(t[0]=[e("i",{class:"bi bi-hourglass-split"},null,-1),r(" กำลังบันทึก...",-1)])])):(i(),d("span",B,[...t[1]||(t[1]=[e("i",{class:"bi bi-save"},null,-1),r(" บันทึกทั้งหมด",-1)])]))],8,C)]),e("div",F,[(i(!0),d(v,null,y(u.promotions,o=>(i(),d("div",{key:o.id,class:"bg-white rounded-xl shadow-sm border border-slate-200 p-4"},[e("div",N,[e("img",{src:o.image_url,class:"w-full h-full object-cover"},null,8,j),e("div",A,[e("label",L,[t[3]||(t[3]=r(" เปลี่ยนรูป ",-1)),e("input",{type:"file",class:"hidden",onChange:a=>m(o.id,a),accept:"image/*"},null,40,T)])])]),e("div",D,[e("div",null,[t[4]||(t[4]=e("label",{class:"text-xs font-bold text-slate-500 uppercase"},"หัวข้อหลัก",-1)),c(e("input",{"onUpdate:modelValue":a=>l(s).promotions[o.id].main_title=a,class:"w-full border-slate-200 rounded text-sm"},null,8,E),[[p,l(s).promotions[o.id].main_title]])]),e("div",null,[t[5]||(t[5]=e("label",{class:"text-xs font-bold text-slate-500 uppercase"},"คำโปรยรอง",-1)),c(e("input",{"onUpdate:modelValue":a=>l(s).promotions[o.id].subtitle=a,class:"w-full border-slate-200 rounded text-sm"},null,8,I),[[p,l(s).promotions[o.id].subtitle]])])]),l(s).promotions[o.id].image?(i(),d("div",M," * รอการอัปโหลดรูปใหม่ ")):w("",!0)]))),128))])]),_:1}))}};export{K as default};
