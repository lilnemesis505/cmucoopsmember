import{u as x,r as v,m as h,k as u,a as b,b as t,d as o,h as y,l as c,g as a,t as w,w as _,c as r,o as i}from"./app-B_YlG3A5.js";import{A as k}from"./AdminLayout-Dxp03VKX.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"max-w-2xl mx-auto"},B={class:"flex items-center gap-2 mb-6 text-sm text-slate-500"},C={class:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden"},K={class:"bg-slate-50 px-6 py-4 border-b border-slate-100 flex items-center gap-3"},N={class:"text-lg font-bold text-slate-800"},P={class:"p-8"},S={class:"space-y-2"},U={class:"w-full aspect-[4/3] bg-slate-100 rounded-xl border-2 border-dashed border-slate-300 flex items-center justify-center overflow-hidden relative group"},E=["src"],L={key:1,class:"text-slate-400 flex flex-col items-center"},V={class:"flex items-center gap-3 pt-4"},A=["disabled"],D={key:0,class:"bi bi-hourglass-split animate-spin"},M={key:1,class:"bi bi-check-lg"},F={__name:"EditCover",props:{page:Object,pageKey:String},setup(n){const m=n,s=x({_method:"PUT",cover_image:null}),d=v(m.page.image_url||null),f=l=>{const e=l.target.files[0];e&&(s.cover_image=e,d.value=URL.createObjectURL(e))},p=()=>{if(!s.cover_image)return alert("กรุณาเลือกรูปภาพก่อนบันทึก");s.post(route("admin.pages.update_cover",m.pageKey),{onSuccess:()=>{s.cover_image=null}})},g=l=>({member:"สิทธิประโยชน์สมาชิก (Member)",board:"สวัสดิการ (Welfare)",ezpoint:"Easy Point"})[l]||l;return(l,e)=>(i(),h(k,null,{default:u(()=>[b(o(y),{title:"จัดการรูปปก: "+n.pageKey},null,8,["title"]),t("div",j,[t("div",B,[b(o(c),{href:l.route("admin.dashboard"),class:"hover:text-blue-600"},{default:u(()=>[...e[0]||(e[0]=[a("Dashboard",-1)])]),_:1},8,["href"]),e[1]||(e[1]=t("i",{class:"bi bi-chevron-right text-xs"},null,-1)),e[2]||(e[2]=t("span",{class:"text-slate-800 font-bold"},"จัดการรูปปก",-1))]),t("div",C,[t("div",K,[e[4]||(e[4]=t("div",{class:"w-10 h-10 rounded-lg bg-blue-500 text-white flex items-center justify-center text-xl shadow-sm"},[t("i",{class:"bi bi-image"})],-1)),t("div",null,[t("h2",N,w(g(n.pageKey)),1),e[3]||(e[3]=t("p",{class:"text-xs text-slate-500"},"เปลี่ยนรูปภาพปกของการ์ด",-1))])]),t("div",P,[t("form",{onSubmit:_(p,["prevent"]),class:"space-y-6"},[t("div",S,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-slate-700"},"ตัวอย่างรูปปกปัจจุบัน",-1)),t("div",U,[d.value?(i(),r("img",{key:0,src:d.value,class:"w-full h-full object-cover transition-transform duration-500 hover:scale-105"},null,8,E)):(i(),r("div",L,[...e[5]||(e[5]=[t("i",{class:"bi bi-image text-4xl mb-2"},null,-1),t("span",null,"ยังไม่มีรูปปก",-1)])]))])]),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"เลือกรูปภาพใหม่",-1)),t("input",{type:"file",onChange:f,accept:"image/*",class:"block w-full text-sm text-slate-500 file:mr-4 file:py-2.5 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 cursor-pointer border border-slate-300 rounded-full bg-white transition-all"},null,32),e[8]||(e[8]=t("p",{class:"text-xs text-slate-400 mt-2"},[t("i",{class:"bi bi-info-circle"}),a(" แนะนำขนาด 800x600px หรืออัตราส่วน 4:3 (.jpg, .png) ")],-1))]),t("div",V,[b(o(c),{href:l.route("admin.dashboard"),class:"flex-1 py-2.5 text-center text-slate-600 bg-slate-100 rounded-lg hover:bg-slate-200 font-medium transition-colors"},{default:u(()=>[...e[9]||(e[9]=[a(" กลับหน้าหลัก ",-1)])]),_:1},8,["href"]),t("button",{type:"submit",disabled:o(s).processing||!o(s).cover_image,class:"flex-[2] py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-bold shadow-md hover:shadow-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed"},[o(s).processing?(i(),r("i",D)):(i(),r("i",M)),e[10]||(e[10]=a(" บันทึกรูปปกใหม่ ",-1))],8,A)])],32)])])])]),_:1}))}};export{F as default};
