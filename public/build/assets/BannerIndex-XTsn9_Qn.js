import{u as f,r as x,j as k,k as g,a as h,b as e,d as s,h as B,l as S,g as d,t as u,w as v,c as r,e as b,o as l,F as j,m as I}from"./app-BUJ8XqcW.js";import{A as D}from"./AdminLayout-BWTQaCOI.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const C={class:"mb-6 flex items-center justify-between"},L={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},N={class:"bg-white rounded-2xl p-6 shadow-sm border border-slate-100"},V={class:"mb-4 border-b pb-2 flex justify-between items-end"},A={class:"text-xs bg-purple-100 text-purple-600 px-2 py-1 rounded-full"},T={class:"flex gap-2"},H=["disabled"],E={key:0},M={key:1},O={key:0,class:"text-red-500 text-xs mt-1"},$={class:"space-y-4 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar"},q={key:0,class:"text-center py-10 text-slate-400 italic bg-slate-50 rounded-lg"},z=["src"],G={class:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2"},J=["href"],K=["onClick"],P={class:"absolute bottom-2 right-2 text-[10px] text-white bg-black/50 px-2 rounded backdrop-blur-sm"},Q={class:"bg-white rounded-2xl p-6 shadow-sm border border-slate-100 h-fit"},R={class:"mb-6 w-full aspect-[4/3] bg-slate-100 rounded-xl overflow-hidden border border-slate-200 relative group"},U=["src"],W={key:1,class:"w-full h-full flex flex-col items-center justify-center text-slate-400"},X={key:2,class:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-4"},Y={class:"text-white text-xs"},Z={class:"flex flex-col gap-3"},ee=["disabled"],te={key:0},se={key:1},le={key:0,class:"text-red-500 text-xs mt-1"},re={__name:"BannerIndex",props:{sliders:Array,staticBanner:Object},setup(n){const i=f({image:null}),c=x(null),y=()=>{i.image&&i.post(route("admin.banners.slider.store"),{preserveScroll:!0,onSuccess:()=>{i.reset(),c.value&&(c.value.value=null)}})},w=m=>{confirm("คุณต้องการลบรูปสไลด์นี้ใช่หรือไม่?")&&f({}).delete(route("admin.banners.destroy",m))},o=f({image:null}),p=x(null),_=()=>{o.image&&o.post(route("admin.banners.static.update"),{preserveScroll:!0,onSuccess:()=>{o.reset(),p.value&&(p.value.value=null)}})};return(m,t)=>(l(),k(D,null,{default:g(()=>[h(s(B),{title:"จัดการ Banner & Slide"}),e("div",C,[t[3]||(t[3]=e("h1",{class:"text-2xl font-bold text-slate-800"},"จัดการหน้าหลัก (Banner & Slide)",-1)),h(s(S),{href:m.route("admin.dashboard"),class:"text-slate-500 hover:text-slate-700"},{default:g(()=>[...t[2]||(t[2]=[e("i",{class:"bi bi-arrow-left"},null,-1),d(" กลับ Dashboard ",-1)])]),_:1},8,["href"])]),e("div",L,[e("div",N,[e("div",V,[t[4]||(t[4]=e("div",null,[e("h2",{class:"text-lg font-bold text-purple-600"},[e("i",{class:"bi bi-images mr-2"}),d("ภาพสไลด์ ")]),e("p",{class:"text-xs text-slate-400"},"ขนาดแนะนำ: แนวนอน 16:9 (1920 x 1080)")],-1)),e("span",A,u(n.sliders.length)+" รูปภาพ ",1)]),e("form",{onSubmit:v(y,["prevent"]),class:"mb-6 bg-slate-50 p-4 rounded-xl border border-dashed border-slate-300"},[t[7]||(t[7]=e("label",{class:"block mb-2 text-sm font-medium text-slate-700"},"เพิ่มรูปสไลด์ใหม่",-1)),e("div",T,[e("input",{type:"file",ref_key:"sliderInput",ref:c,onInput:t[0]||(t[0]=a=>s(i).image=a.target.files[0]),class:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 transition-all",accept:"image/*"},null,544),e("button",{type:"submit",disabled:s(i).processing||!s(i).image,class:"bg-purple-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm whitespace-nowrap"},[s(i).processing?(l(),r("span",E,[...t[5]||(t[5]=[e("i",{class:"bi bi-arrow-repeat animate-spin"},null,-1)])])):(l(),r("span",M,[...t[6]||(t[6]=[e("i",{class:"bi bi-upload mr-1"},null,-1),d(" อัปโหลด",-1)])]))],8,H)]),s(i).errors.image?(l(),r("div",O,u(s(i).errors.image),1)):b("",!0)],32),e("div",$,[n.sliders.length===0?(l(),r("div",q," ยังไม่มีรูปภาพสไลด์ ")):b("",!0),(l(!0),r(j,null,I(n.sliders,a=>(l(),r("div",{key:a.id,class:"group relative bg-slate-50 rounded-xl overflow-hidden border border-slate-200 transition-all hover:shadow-md"},[e("img",{src:a.image_url,class:"w-full h-40 object-cover"},null,8,z),e("div",G,[e("a",{href:a.image_url,target:"_blank",class:"p-2 bg-white/20 text-white rounded-full hover:bg-white/40 backdrop-blur-sm"},[...t[8]||(t[8]=[e("i",{class:"bi bi-eye"},null,-1)])],8,J),e("button",{onClick:ie=>w(a.id),class:"p-2 bg-red-500/80 text-white rounded-full hover:bg-red-600 backdrop-blur-sm"},[...t[9]||(t[9]=[e("i",{class:"bi bi-trash"},null,-1)])],8,K)]),e("div",P," อัปโหลดเมื่อ: "+u(new Date(a.created_at).toLocaleDateString("th-TH")),1)]))),128))])]),e("div",Q,[t[14]||(t[14]=e("div",{class:"mb-4 border-b pb-2"},[e("h2",{class:"text-lg font-bold text-blue-600"},[e("i",{class:"bi bi-card-image mr-2"}),d("รูปโปสเตอร์ขวา (30% ของหน้าจอ) ")]),e("p",{class:"text-xs text-slate-400"},"ขนาดแนะนำ: แนวตั้งหรือจัตุรัส (แสดงผลเพียง 1 รูป)")],-1)),e("div",R,[n.staticBanner?(l(),r("img",{key:0,src:n.staticBanner.image_url,class:"w-full h-full object-cover"},null,8,U)):(l(),r("div",W,[...t[10]||(t[10]=[e("i",{class:"bi bi-image text-4xl mb-2"},null,-1),e("span",null,"ยังไม่มีรูปภาพ",-1)])])),n.staticBanner?(l(),r("div",X,[e("p",Y,"แก้ไขล่าสุด: "+u(new Date(n.staticBanner.updated_at).toLocaleDateString("th-TH")),1)])):b("",!0)]),e("form",{onSubmit:v(_,["prevent"]),class:"bg-slate-50 p-4 rounded-xl border border-dashed border-slate-300"},[t[13]||(t[13]=e("label",{class:"block mb-2 text-sm font-medium text-slate-700"},"เปลี่ยนรูปภาพใหม่",-1)),e("div",Z,[e("input",{type:"file",ref_key:"staticInput",ref:p,onInput:t[1]||(t[1]=a=>s(o).image=a.target.files[0]),class:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 transition-all",accept:"image/*"},null,544),e("button",{type:"submit",disabled:s(o).processing||!s(o).image,class:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm"},[s(o).processing?(l(),r("span",te,[...t[11]||(t[11]=[e("i",{class:"bi bi-arrow-repeat animate-spin"},null,-1),d(" กำลังอัปโหลด...",-1)])])):(l(),r("span",se,[...t[12]||(t[12]=[e("i",{class:"bi bi-arrow-clockwise mr-1"},null,-1),d(" อัปเดตรูปภาพ",-1)])]))],8,ee)]),s(o).errors.image?(l(),r("div",le,u(s(o).errors.image),1)):b("",!0)],32)])])]),_:1}))}},ue=F(re,[["__scopeId","data-v-8c671680"]]);export{ue as default};
